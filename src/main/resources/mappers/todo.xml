<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.study.todo.domain.TodoRepository">
  		
  	<select id="getTodoList" parameterType="String" resultType="com.study.todo.domain.Todo">
  		
  		select
  			todo_code,
  			todo_content,
  			todo_complete,
  			importance_flag,
  			create_date,
  			update_date
  		from
  			todo_mst
  	
  	</select>
  	
  	<insert id="addTodo" parameterType="com.study.todo.domain.Todo" >
  		insert into
  			todo_mst
  		values(
  			0, 
  			"${todo_content}",
  			0,
  			${importance_flag},
  			now(),
  			now()
  		)
  	</insert>
  	
  	<update id="updateTodoComplete" parameterType="Integer">
  		
  		UPDATE
  			todo_mst
  		SET
  			todo_complete = case when todo_complete = '0' then 1 ELSE 0 end
  		WHERE
  			todo_code = #{todo_code};
  	
  	</update>
  
  </mapper>